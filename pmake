#!/usr/bin/perl
# Maximillian Nibler mnibler@ucsc.edu

use strict;
use warnings;

my %lineHash = ();
my @recArray = ();

open(DATA, "<Makefile") or die "Couldn't open file Makefile, $!";

#read in the Makefile
while(<DATA>) {
    my $parse = "$_";
    my $line = $parse =~ m/#/? "$`" : "$parse";
    puthash ($line);
}
sub extMacro{

}
sub storeTargets{

}
sub storeRecipe{

}
#store
sub puthash {
    $lineHash{"$@_"} = "@_";
    my $printl = $lineHash{"$@_"} =~ /^(\S+)\s*:\s*(.*?)\s*$/? "@_" : "0\n";
    print "$printl";
}

